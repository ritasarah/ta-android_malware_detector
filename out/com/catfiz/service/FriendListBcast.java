package com.catfiz.service;

import com.catfiz.service.CatfishRESTAPI.CatfishResult;
import com.catfiz.util.Log;

public class FriendListBcast implements IDropableRunnable, Runnable {
    private static final String TAG = "FriendListBcast";
    public static String mMessage;
    public static String mObjectOwner;
    public static String mRecipient;
    public static String mServer;
    public static String mUsername;
    public static String mUserpin;
    public CatfishRESTAPI catfishRestAPI = null;
    private long mAge = 0;
    public ICatfishClientInterface mIfClient = null;
    public int mMessageType;
    public long mObjSequence;
    public long mSequence;
    public volatile CatfishService mService = null;
    public int scheduleNum = 0;

    public FriendListBcast(ICatfishClientInterface iCatfishClientInterface, CatfishService catfishService, String str, String str2, String str3, int i, String str4, String str5, long j, long j2, String str6) {
        this.mIfClient = iCatfishClientInterface;
        this.mService = catfishService;
        mServer = str;
        mUserpin = str2;
        mUsername = str3;
        mRecipient = str4;
        this.mMessageType = i;
        mMessage = str5;
        this.mSequence = j;
        this.mObjSequence = j2;
        mObjectOwner = str6;
        this.mAge = System.currentTimeMillis();
    }

    public void dropRunnable() {
    }

    public long getAge() {
        return this.mAge;
    }

    public int getScheduleNum() {
        return this.scheduleNum;
    }

    public void incraseScheduleNum() {
        this.scheduleNum++;
    }

    public void run() {
        CatfishResult friendlistBcast = this.catfishRestAPI.friendlistBcast(mServer, mUserpin, mUsername, this.mMessageType, mRecipient, mMessage, this.mSequence, this.mObjSequence, mObjectOwner);
        if (friendlistBcast.hasFailure()) {
            this.mService.scheduleRunnableToService(this);
        } else if (!friendlistBcast.hasSuccess()) {
            Log.e(TAG, "FRIENDLIST BCAST: ERROR: DROP !!!");
        }
    }

    public void setRestAPI(CatfishRESTAPI catfishRESTAPI) {
        this.catfishRestAPI = catfishRESTAPI;
    }
}
