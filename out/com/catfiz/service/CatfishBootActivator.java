package com.catfiz.service;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import com.catfiz.intents.CatfishIntents;
import com.catfiz.setting.CatfishPreferences;
import com.catfiz.util.Log;

public class CatfishBootActivator extends BroadcastReceiver {
    private static final String TAG = "CatfishLibBootActivator";

    public void onReceive(Context context, Intent intent) {
        if (!intent.getAction().equals("android.intent.action.BOOT_COMPLETED")) {
            return;
        }
        if (new CatfishPreferences(context).isCfprefAlreadyToGo()) {
            Log.d(TAG, "**** BOOT ****");
            context.startService(CatfishIntents.newIntent(context, CatfishService.CATFISH_START_AT_BOOT_SERVICE));
            return;
        }
        Log.d(TAG, "**** BOOT PENDING CF PREF NOT READY****");
    }
}
