package com.catfiz.service.uidbexec;

import android.database.Cursor;
import com.catfiz.service.CatfishService;
import com.catfiz.service.FriendListDataStorage;
import com.catfiz.service.ICatfishClientInterface;
import com.catfiz.service.uiresponse.CUIDatabaseResponse;

public class CUIDBGetFriendExecutor extends CUIDatabaseExecutorBase {
    private static final String TAG = "CUIDBGetFriendExecutor";
    private String mFriendPin = null;

    public CUIDBGetFriendExecutor(ICatfishClientInterface iCatfishClientInterface, String str) {
        super(iCatfishClientInterface);
        this.mFriendPin = str;
    }

    public void run() {
        if (this.mFriendPin == null) {
            ICatfishClientInterface iCatfishClientInterface = this.mIfclient;
            getCatfishService();
            postResponse(new CUIDatabaseResponse(iCatfishClientInterface, CatfishService.GET_FRIEND_ERROR_KEY, null, this.mFriendPin, -1, true));
            return;
        }
        Cursor friend = new FriendListDataStorage(getCatfishService()).getFriend(this.mFriendPin);
        iCatfishClientInterface = this.mIfclient;
        getCatfishService();
        postResponse(new CUIDatabaseResponse(iCatfishClientInterface, CatfishService.GET_FRIEND_KEY, friend, this.mFriendPin, 0, true));
    }
}
