package com.catfiz.service.uidbexec;

import com.catfiz.service.CatfishMessageObject;
import com.catfiz.service.CatfishService;
import com.catfiz.service.CatfishUIBinder.DatabaseRequestOP;
import com.catfiz.service.FriendListDataStorage;
import com.catfiz.service.uisvcexec.UIClientNotifyMessageReadExecutor;
import com.catfiz.util.Log;

public class CUIDBNotifyMessageReadExecutor extends CUIDatabaseExecutorBase {
    private static final String TAG = "CUIDBNotifyMessageReadExecutor";

    public CUIDBNotifyMessageReadExecutor(CatfishMessageObject catfishMessageObject) {
        super(null, null, catfishMessageObject, DatabaseRequestOP.UNKNOWN);
    }

    public void run() {
        FriendListDataStorage friendListDataStorage = new FriendListDataStorage(getCatfishService());
        Log.d(TAG, "Set UNREAD STATUS to 0:" + this.mMessage.recipient);
        friendListDataStorage.setUnReadMessageStatus(this.mMessage.recipient, 0, 0);
        CatfishService catfishService = getCatfishService();
        CatfishService catfishService2 = getCatfishService();
        getCatfishService();
        catfishService.postToServiceHandler(new UIClientNotifyMessageReadExecutor(catfishService2, CatfishService.getCurrentServerHost(), this.mMessage));
    }
}
