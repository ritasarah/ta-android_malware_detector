package com.catfiz.service.uidbexec;

import com.catfiz.service.CatfishService;
import com.catfiz.service.CatfishUIBinder.DatabaseRequestOP;
import com.catfiz.service.FizzlinkDataStorage;
import com.catfiz.service.ICatfishClientInterface;
import com.catfiz.service.uiresponse.CUIDatabaseResponse;
import java.util.Locale;
import java.util.regex.Pattern;

public class CUIGetSlinkChaceDBExecutor extends CUIDatabaseExecutorBase {
    private static final Pattern mAlnumPattern = Pattern.compile("[^a-zA-Z0-9]");
    private String mSlink = null;

    public CUIGetSlinkChaceDBExecutor(ICatfishClientInterface iCatfishClientInterface, String str) {
        super(null, iCatfishClientInterface, DatabaseRequestOP.UNKNOWN);
        this.mSlink = str;
        if (str == null || str.isEmpty()) {
            this.mSlink = "";
            return;
        }
        if (mAlnumPattern.matcher(str.toLowerCase(Locale.US)).find()) {
            this.mSlink = "";
        }
    }

    public void run() {
        postResponse(new CUIDatabaseResponse(this.mIfclient, CatfishService.GET_SLINKCHACE_KEY, new FizzlinkDataStorage(CatfishService.getServiceInstance()).getFizzlinkDownloadData(this.mSlink)));
    }
}
