package com.catfiz.util;

import android.graphics.Matrix;
import android.media.ExifInterface;
import java.io.File;
import java.io.IOException;
import org.apache.commons.logging.impl.SimpleLog;
import org.apache.http.conn.routing.HttpRouteDirector;

public class ExifRotateUtils {
    public static int getExifRotation(File file) {
        if (file == null) {
            return 0;
        }
        try {
            switch (new ExifInterface(file.getAbsolutePath()).getAttributeInt("Orientation", 0)) {
                case e.c /*2*/:
                    return 90;
                case HttpRouteDirector.TUNNEL_TARGET /*3*/:
                    return 180;
                case HttpRouteDirector.TUNNEL_PROXY /*4*/:
                    return 180;
                case SimpleLog.LOG_LEVEL_FATAL /*6*/:
                    return 90;
                case Utils.FILE_TYPE_INSTALLER /*8*/:
                    return 270;
                default:
                    return 0;
            }
        } catch (IOException e) {
            return 0;
        }
    }

    public static Matrix getExifRotationMatrix(File file) {
        Matrix matrix = new Matrix();
        matrix.setRotate((float) getExifRotation(file));
        return matrix;
    }
}
