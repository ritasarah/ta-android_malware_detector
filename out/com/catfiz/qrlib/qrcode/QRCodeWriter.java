package com.catfiz.qrlib.qrcode;

import com.b.a.a;
import com.b.a.c.b;
import com.b.a.w;
import com.catfiz.qrlib.qrcode.encoder.ByteMatrix;
import com.catfiz.qrlib.qrcode.encoder.QRCode;

public final class QRCodeWriter implements w {
    private static final int QUIET_ZONE_SIZE = 4;

    private static b renderResult(QRCode qRCode, int i, int i2) {
        ByteMatrix matrix = qRCode.getMatrix();
        if (matrix == null) {
            throw new IllegalStateException();
        }
        int width = matrix.getWidth();
        int height = matrix.getHeight();
        int i3 = width + 8;
        int i4 = height + 8;
        int max = Math.max(i, i3);
        int max2 = Math.max(i2, i4);
        int min = Math.min(max / i3, max2 / i4);
        i4 = (max - (width * min)) / 2;
        i3 = (max2 - (height * min)) / 2;
        b bVar = new b(max, max2);
        max2 = i3;
        for (int i5 = 0; i5 < height; i5++) {
            i3 = i4;
            max = 0;
            while (max < width) {
                if (matrix.get(max, i5) == (byte) 1) {
                    bVar.a(i3, max2, min, min);
                }
                max++;
                i3 += min;
            }
            max2 += min;
        }
        return bVar;
    }

    public b encode(String str, a aVar, int i, int i2) {
        return encode(str, aVar, i, i2, null);
    }

    /* JADX WARNING: inconsistent code. */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public com.b.a.c.b encode(java.lang.String r4, com.b.a.a r5, int r6, int r7, java.util.Map r8) {
        /*
        r3 = this;
        r0 = r4.length();
        if (r0 != 0) goto L_0x000e;
    L_0x0006:
        r0 = new java.lang.IllegalArgumentException;
        r1 = "Found empty contents";
        r0.<init>(r1);
        throw r0;
    L_0x000e:
        r0 = com.b.a.a.QR_CODE;
        if (r5 == r0) goto L_0x002b;
    L_0x0012:
        r0 = new java.lang.IllegalArgumentException;
        r1 = new java.lang.StringBuilder;
        r1.<init>();
        r2 = "Can only encode QR_CODE, but got ";
        r1 = r1.append(r2);
        r1 = r1.append(r5);
        r1 = r1.toString();
        r0.<init>(r1);
        throw r0;
    L_0x002b:
        if (r6 < 0) goto L_0x002f;
    L_0x002d:
        if (r7 >= 0) goto L_0x0052;
    L_0x002f:
        r0 = new java.lang.IllegalArgumentException;
        r1 = new java.lang.StringBuilder;
        r1.<init>();
        r2 = "Requested dimensions are too small: ";
        r1 = r1.append(r2);
        r1 = r1.append(r6);
        r2 = 120; // 0x78 float:1.68E-43 double:5.93E-322;
        r1 = r1.append(r2);
        r1 = r1.append(r7);
        r1 = r1.toString();
        r0.<init>(r1);
        throw r0;
    L_0x0052:
        r1 = com.catfiz.qrlib.qrcode.decoder.ErrorCorrectionLevel.L;
        if (r8 == 0) goto L_0x006d;
    L_0x0056:
        r0 = com.b.a.g.ERROR_CORRECTION;
        r0 = r8.get(r0);
        r0 = (com.catfiz.qrlib.qrcode.decoder.ErrorCorrectionLevel) r0;
        if (r0 == 0) goto L_0x006d;
    L_0x0060:
        r1 = new com.catfiz.qrlib.qrcode.encoder.QRCode;
        r1.<init>();
        com.catfiz.qrlib.qrcode.encoder.Encoder.encode(r4, r0, r8, r1);
        r0 = renderResult(r1, r6, r7);
        return r0;
    L_0x006d:
        r0 = r1;
        goto L_0x0060;
        */
        throw new UnsupportedOperationException("Method not decompiled: com.catfiz.qrlib.qrcode.QRCodeWriter.encode(java.lang.String, com.b.a.a, int, int, java.util.Map):com.b.a.c.b");
    }
}
