package com.albus.activity;

import android.app.ActivityManager.TaskDescription;
import android.content.Intent;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentTransaction;
import android.support.v7.app.AppCompatActivity;
import android.view.Window;
import android.view.inputmethod.InputMethodManager;
import android.widget.RelativeLayout;
import com.albus.fragment.ForgotPasswordFragment;
import com.albus.fragment.ForgotSendFragment;
import com.albus.fragment.ForgotVerifyPasswordFragment;
import com.albus.fragment.LoginFragment;
import com.albus.fragment.MigrationFragment;
import com.albus.fragment.RegCheckingAccountFragment;
import com.albus.fragment.RegVerifyFragment;
import com.albus.fragment.RegistrationFragment;
import com.albus.util.AlbusModelObject;
import com.albus.view.CustomEdittext;
import com.catfiz.R;
import com.catfiz.service.CatfishRESTAPI;
import com.catfiz.util.Log;
import com.catfiz.util.Utils;
import org.apache.commons.logging.impl.SimpleLog;
import org.apache.http.conn.routing.HttpRouteDirector;

public class RegisterActivity extends AppCompatActivity {
    public static final int MEDIA_TYPE_IMAGE = 1;
    private static final String TAG = "RegisterActivity";
    private Fragment mFragment = null;
    private Intent mIntent = null;
    private int mPageFrag = -1;
    public RelativeLayout mRlBg = null;

    public void dismissKeyboard(CustomEdittext customEdittext) {
        ((InputMethodManager) getSystemService("input_method")).hideSoftInputFromWindow(customEdittext.getWindowToken(), 0);
    }

    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        Log.d(TAG, "onCreate RegisterActivity");
        setContentView((int) R.layout.activity_view);
        if (Utils.hasLollipop()) {
            setTaskDescription(new TaskDescription(null, null, getResources().getColor(R.color.red)));
            Window window = getWindow();
            window.addFlags(RtlSpacingHelper.UNDEFINED);
            window.clearFlags(67108864);
            window.setStatusBarColor(getResources().getColor(R.color.black));
        }
        this.mRlBg = (RelativeLayout) findViewById(R.id.rl_background);
        this.mRlBg.setBackgroundResource(R.color.light_grey);
        this.mIntent = getIntent();
        if (bundle == null) {
            this.mPageFrag = this.mIntent.getIntExtra(AlbusModelObject.PAGE, -1);
            FragmentTransaction beginTransaction = getSupportFragmentManager().beginTransaction();
            switch (this.mPageFrag) {
                case e.a /*0*/:
                    this.mFragment = RegistrationFragment.newInstance();
                    break;
                case MEDIA_TYPE_IMAGE /*1*/:
                    Bundle bundle2 = new Bundle();
                    bundle2.putString(CatfishRESTAPI.CFCOMPACT_EMAIL, getIntent().getExtras().getString(CatfishRESTAPI.CFCOMPACT_EMAIL));
                    this.mFragment = RegVerifyFragment.newInstance(bundle2);
                    break;
                case HttpRouteDirector.TUNNEL_TARGET /*3*/:
                    this.mFragment = LoginFragment.newInstance();
                    break;
                case HttpRouteDirector.TUNNEL_PROXY /*4*/:
                    this.mFragment = ForgotPasswordFragment.newInstance();
                    break;
                case HttpRouteDirector.LAYER_PROTOCOL /*5*/:
                    this.mFragment = ForgotSendFragment.newInstance();
                    break;
                case SimpleLog.LOG_LEVEL_FATAL /*6*/:
                    this.mFragment = ForgotVerifyPasswordFragment.newInstance();
                    break;
                case SimpleLog.LOG_LEVEL_OFF /*7*/:
                    this.mFragment = MigrationFragment.newInstance();
                    break;
                case Utils.FILE_TYPE_INSTALLER /*8*/:
                    this.mFragment = RegCheckingAccountFragment.newInstance();
                    break;
            }
            beginTransaction.replace(R.id.fl_view, this.mFragment);
            beginTransaction.commit();
            return;
        }
        this.mFragment = getSupportFragmentManager().findFragmentById(R.id.fl_view);
    }
}
