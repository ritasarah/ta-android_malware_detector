package com.albus.dialog;

import android.content.Context;
import android.content.DialogInterface;
import android.os.Bundle;
import android.support.v4.app.DialogFragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.TextView;
import com.albus.dialog.AlbusDialog.OnAttachItemListener;
import com.albus.dialog.AlbusDialog.OnChooserTypeFile;
import com.albus.dialog.AlbusDialog.OnChooserVideoResolutionListener;
import com.albus.dialog.AlbusDialog.OnItemLongClicked;
import com.albus.dialog.AlbusDialog.OnShareButtonListener;
import com.albus.dialog.AlbusDialog.OnShareButtonListener.OnShareQRButtonListener;
import com.albus.dialog.AlbusDialog.OnUpdatesClickedListener;
import com.albus.util.AlbusModelObject;
import com.catfiz.R;
import com.catfiz.service.CatfishDataStorage;
import com.catfiz.service.CatfishService.UpdateRecent;
import com.catfiz.util.FizzlinkUtil;
import com.catfiz.util.Log;
import com.catfiz.util.MimeTypeParser;
import org.apache.commons.logging.impl.SimpleLog;
import org.apache.http.conn.routing.HttpRouteDirector;
import org.apache.http.protocol.HTTP;
import org.apache.http.util.LangUtils;

public class ChooserDialogFragment extends DialogFragment {
    protected static final String TAG = "ChooserDialogFragment";
    private int mAction = 0;
    private OnItemLongClicked mActionLongClicked = null;
    private OnAttachItemListener mAttachItemListener;
    private OnChooserTypeFile mChooserFileType = null;
    private OnChooserVideoResolutionListener mChoserVideoResolutionListener;
    private Context mContext = null;
    private int mDialogId = -1;
    private AlbusDialogInterface mIDialog = null;
    private String mName = null;
    private OnShareQRButtonListener mQRShareBtnListener = null;
    private OnShareButtonListener mShareBtnListener = null;
    private OnUpdatesClickedListener mUpdateClickedListener = null;
    private View mView = null;

    public static ChooserDialogFragment newInstance(Bundle bundle) {
        ChooserDialogFragment chooserDialogFragment = new ChooserDialogFragment();
        chooserDialogFragment.setArguments(bundle);
        chooserDialogFragment.mName = bundle.getString(CatfishDataStorage.NIC_NAME);
        chooserDialogFragment.mAction = bundle.getInt(MimeTypeParser.TAG_TYPE);
        return chooserDialogFragment;
    }

    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        setStyle(1, 16973942);
    }

    public View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        this.mView = layoutInflater.inflate(R.layout.dialog_chooser, viewGroup, false);
        this.mDialogId = getArguments().getInt(AlbusModelObject.DIALOG);
        TextView textView;
        TextView textView2;
        TextView textView3;
        TextView textView4;
        TextView textView5;
        switch (this.mDialogId) {
            case HttpRouteDirector.TUNNEL_TARGET /*3*/:
                this.mIDialog.onCreateDialog(3, this, this.mView, getArguments(), this.mContext);
                break;
            case SimpleLog.LOG_LEVEL_FATAL /*6*/:
                this.mIDialog.onCreateDialog(6, this, this.mView, getArguments(), this.mContext);
                textView = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                ((TextView) this.mView.findViewById(R.id.tv_name)).setText(this.mName);
                textView2.setText(this.mContext.getResources().getString(R.string.go_to_profile));
                if (this.mAction == UpdateRecent.STATUSUPDT.ordinal() || this.mAction == UpdateRecent.SELFSTATUSUPDT.ordinal()) {
                    textView.setText(this.mContext.getResources().getString(R.string.go_to_comm));
                } else {
                    textView.setText(this.mContext.getResources().getString(R.string.go_to_chat));
                }
                Log.d(TAG, "update=" + this.mUpdateClickedListener);
                textView.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.dismiss();
                        ChooserDialogFragment.this.mUpdateClickedListener.onGoChatClicked();
                    }
                });
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.dismiss();
                        ChooserDialogFragment.this.mUpdateClickedListener.onGoProfileClicked();
                    }
                });
                break;
            case R.styleable.Toolbar_titleMarginEnd /*14*/:
                this.mIDialog.onCreateDialog(14, this, this.mView, getArguments(), this.mContext);
                break;
            case FizzlinkUtil.S_MP3 /*16*/:
                this.mIDialog.onCreateDialog(16, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Toolbar_subtitleTextColor /*24*/:
                this.mIDialog.onCreateDialog(24, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Theme_actionMenuTextAppearance /*25*/:
                this.mIDialog.onCreateDialog(25, this, this.mView, getArguments(), this.mContext);
                break;
            case HTTP.SP /*32*/:
                this.mIDialog.onCreateDialog(32, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Theme_actionModePasteDrawable /*34*/:
                this.mIDialog.onCreateDialog(34, this, this.mView, getArguments(), this.mContext);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView3 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                textView4 = (TextView) this.mView.findViewById(R.id.tv_chooser3);
                textView5 = (TextView) this.mView.findViewById(R.id.tv_chooser4);
                ((TextView) this.mView.findViewById(R.id.tv_name)).setText(this.mContext.getString(R.string.qrshare_title));
                textView2.setText(this.mContext.getText(R.string.qrshare_to_friend));
                textView5.setText(this.mContext.getString(R.string.qrshare_save));
                textView3.setText(this.mContext.getString(R.string.qrshare_to_mystatus));
                textView4.setText(this.mContext.getString(R.string.qrshare_to_group));
                textView4.setVisibility(0);
                textView5.setVisibility(0);
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mQRShareBtnListener.onShareToFriendClicked();
                    }
                });
                textView3.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mQRShareBtnListener.onShareToMyStatusClicked();
                    }
                });
                textView5.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mQRShareBtnListener.onSaveToGallery();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView4.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mQRShareBtnListener.onShareToPoolClicked();
                    }
                });
                break;
            case R.styleable.Theme_actionModeSelectAllDrawable /*35*/:
                this.mIDialog.onCreateDialog(35, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Theme_actionModeShareDrawable /*36*/:
                this.mIDialog.onCreateDialog(36, this, this.mView, getArguments(), this.mContext);
                break;
            case LangUtils.HASH_OFFSET /*37*/:
                this.mIDialog.onCreateDialog(37, this, this.mView, getArguments(), this.mContext);
                textView = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                textView3 = (TextView) this.mView.findViewById(R.id.tv_name);
                textView.setText(this.mContext.getResources().getString(R.string.by_video));
                textView2.setText(this.mContext.getResources().getString(R.string.by_file));
                textView.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mAttachItemListener.onAttachVideoCamClicked();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mAttachItemListener.onAttachVideoFileClicked();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView3.setVisibility(8);
                break;
            case R.styleable.Theme_actionModePopupWindowStyle /*39*/:
                this.mIDialog.onCreateDialog(39, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Theme_dialogTheme /*42*/:
                this.mIDialog.onCreateDialog(42, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Theme_spinnerDropDownItemStyle /*47*/:
                this.mIDialog.onCreateDialog(47, this, this.mView, getArguments(), this.mContext);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView3 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                textView4 = (TextView) this.mView.findViewById(R.id.tv_chooser3);
                textView5 = (TextView) this.mView.findViewById(R.id.tv_chooser4);
                ((TextView) this.mView.findViewById(R.id.tv_name)).setText(this.mContext.getString(R.string.fizzlink_share_title));
                textView2.setText(this.mContext.getText(R.string.qrshare_to_friend));
                textView4.setText(this.mContext.getString(R.string.qrshare_to_group));
                textView4.setVisibility(0);
                textView5.setVisibility(8);
                textView3.setVisibility(8);
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mShareBtnListener.onShareToFriendClicked();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView4.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mShareBtnListener.onShareToPoolClicked();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                break;
            case R.styleable.Theme_homeAsUpIndicator /*48*/:
                this.mIDialog.onCreateDialog(48, this, this.mView, getArguments(), this.mContext);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView3 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                textView4 = (TextView) this.mView.findViewById(R.id.tv_chooser3);
                textView5 = (TextView) this.mView.findViewById(R.id.tv_chooser4);
                ((TextView) this.mView.findViewById(R.id.tv_name)).setText(this.mContext.getString(R.string.chooser_title));
                textView2.setText(this.mContext.getText(R.string.chooser_image));
                textView3.setText(this.mContext.getString(R.string.chooser_video));
                textView5.setText(this.mContext.getString(R.string.chooser_file));
                textView4.setText(this.mContext.getString(R.string.chooser_audio));
                textView5.setVisibility(0);
                textView4.setVisibility(0);
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        if (ChooserDialogFragment.this.mChooserFileType != null) {
                            ChooserDialogFragment.this.mChooserFileType.onImageType();
                        }
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView3.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        if (ChooserDialogFragment.this.mChooserFileType != null) {
                            ChooserDialogFragment.this.mChooserFileType.onVideoType();
                        }
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView5.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        if (ChooserDialogFragment.this.mChooserFileType != null) {
                            ChooserDialogFragment.this.mChooserFileType.onFileType();
                        }
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView4.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        if (ChooserDialogFragment.this.mChooserFileType != null) {
                            ChooserDialogFragment.this.mChooserFileType.onAudioType();
                        }
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                break;
            case R.styleable.Theme_selectableItemBackground /*52*/:
                this.mIDialog.onCreateDialog(52, this, this.mView, getArguments(), this.mContext);
                textView = (TextView) this.mView.findViewById(R.id.tv_chooser1);
                textView2 = (TextView) this.mView.findViewById(R.id.tv_chooser2);
                textView3 = (TextView) this.mView.findViewById(R.id.tv_name);
                textView.setText(this.mContext.getResources().getString(R.string.video_low_resolution));
                textView2.setText(this.mContext.getResources().getString(R.string.video_high_resolution));
                textView.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mChoserVideoResolutionListener.onVideoLowResolution();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView2.setOnClickListener(new OnClickListener() {
                    public void onClick(View view) {
                        ChooserDialogFragment.this.mChoserVideoResolutionListener.onVideoHighResolution();
                        ChooserDialogFragment.this.dismiss();
                    }
                });
                textView3.setVisibility(8);
                break;
        }
        return this.mView;
    }

    public void onDismiss(DialogInterface dialogInterface) {
        switch (this.mDialogId) {
            case HttpRouteDirector.TUNNEL_TARGET /*3*/:
                this.mIDialog.onDismissDialog(3, this, this.mView, getArguments());
                break;
            case SimpleLog.LOG_LEVEL_FATAL /*6*/:
                this.mIDialog.onCreateDialog(6, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Toolbar_titleMarginEnd /*14*/:
                this.mIDialog.onDismissDialog(14, this, this.mView, getArguments());
                break;
            case FizzlinkUtil.S_MP3 /*16*/:
                this.mIDialog.onDismissDialog(16, this, this.mView, getArguments());
                break;
            case R.styleable.Toolbar_subtitleTextColor /*24*/:
                this.mIDialog.onDismissDialog(24, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionMenuTextAppearance /*25*/:
                this.mIDialog.onDismissDialog(25, this, this.mView, getArguments());
                break;
            case HTTP.SP /*32*/:
                this.mIDialog.onDismissDialog(32, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModePasteDrawable /*34*/:
                this.mIDialog.onDismissDialog(34, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModeSelectAllDrawable /*35*/:
                this.mIDialog.onDismissDialog(35, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModeShareDrawable /*36*/:
                this.mIDialog.onDismissDialog(36, this, this.mView, getArguments());
                break;
            case LangUtils.HASH_OFFSET /*37*/:
                this.mIDialog.onDismissDialog(37, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModePopupWindowStyle /*39*/:
                this.mIDialog.onDismissDialog(39, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_dialogTheme /*42*/:
                this.mIDialog.onDismissDialog(42, this, this.mView, getArguments());
                break;
        }
        super.onDismiss(dialogInterface);
    }

    public void onStart() {
        switch (this.mDialogId) {
            case HttpRouteDirector.TUNNEL_TARGET /*3*/:
                this.mIDialog.onCreateDialog(3, this, this.mView, getArguments(), this.mContext);
                break;
            case SimpleLog.LOG_LEVEL_FATAL /*6*/:
                this.mIDialog.onCreateDialog(6, this, this.mView, getArguments(), this.mContext);
                break;
            case R.styleable.Toolbar_titleMarginEnd /*14*/:
                this.mIDialog.onShowDialog(14, this, this.mView, getArguments());
                break;
            case R.styleable.Toolbar_subtitleTextColor /*24*/:
                this.mIDialog.onShowDialog(24, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionMenuTextAppearance /*25*/:
                this.mIDialog.onShowDialog(25, this, this.mView, getArguments());
                break;
            case HTTP.SP /*32*/:
                this.mIDialog.onShowDialog(32, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModePasteDrawable /*34*/:
                this.mIDialog.onShowDialog(34, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModeShareDrawable /*36*/:
                this.mIDialog.onShowDialog(36, this, this.mView, getArguments());
                break;
            case LangUtils.HASH_OFFSET /*37*/:
                this.mIDialog.onShowDialog(37, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_actionModePopupWindowStyle /*39*/:
                this.mIDialog.onShowDialog(39, this, this.mView, getArguments());
                break;
            case R.styleable.Theme_dialogTheme /*42*/:
                this.mIDialog.onShowDialog(42, this, this.mView, getArguments());
                break;
        }
        super.onStart();
    }

    public void setChooserFileTypeListener(OnChooserTypeFile onChooserTypeFile) {
        this.mChooserFileType = onChooserTypeFile;
    }

    public void setClickistener(OnAttachItemListener onAttachItemListener) {
        this.mAttachItemListener = onAttachItemListener;
    }

    public void setContext(Context context) {
        this.mContext = context;
    }

    public void setInterface(AlbusDialogInterface albusDialogInterface) {
        this.mIDialog = albusDialogInterface;
    }

    public void setLongClickListener(OnItemLongClicked onItemLongClicked) {
        this.mActionLongClicked = onItemLongClicked;
    }

    public void setShareClickListener(OnShareButtonListener onShareButtonListener) {
        if (onShareButtonListener instanceof OnShareQRButtonListener) {
            this.mQRShareBtnListener = (OnShareQRButtonListener) onShareButtonListener;
        } else {
            this.mShareBtnListener = onShareButtonListener;
        }
    }

    public void setUpdateClickedListener(OnUpdatesClickedListener onUpdatesClickedListener) {
        this.mUpdateClickedListener = onUpdatesClickedListener;
    }

    public void setVideoResolutionListener(OnChooserVideoResolutionListener onChooserVideoResolutionListener) {
        this.mChoserVideoResolutionListener = onChooserVideoResolutionListener;
    }
}
