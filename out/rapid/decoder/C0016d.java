package rapid.decoder;

import android.app.Activity;
import android.app.Fragment;
import android.os.Build.VERSION;
import android.view.View;
import java.lang.ref.WeakReference;
import java.util.HashMap;
import java.util.Map;
import java.util.WeakHashMap;

class C0016d {
    private static Boolean a;
    private static WeakHashMap b;
    private static HashMap c;

    C0016d() {
    }

    public static C0014b a(Object obj) {
        C0014b c0014b;
        if (C0016d.f(obj)) {
            c0014b = new C0014b(new WeakReference(obj));
            if (b == null) {
                b = new WeakHashMap();
            } else {
                C0016d.a(b, obj);
            }
            b.put(obj, c0014b);
        } else {
            c0014b = new C0014b(obj);
            if (c == null) {
                c = new HashMap();
            } else {
                C0016d.a(c, obj);
            }
            c.put(obj, c0014b);
        }
        return c0014b;
    }

    public static boolean a() {
        return ((b == null || b.isEmpty()) && (c == null || c.isEmpty())) ? false : true;
    }

    private static boolean a(Map map, Object obj) {
        C0014b c0014b = (C0014b) map.remove(obj);
        if (c0014b == null) {
            return false;
        }
        c0014b.a();
        return true;
    }

    public static C0014b b(Object obj) {
        return (obj == null || b == null) ? null : (C0014b) b.remove(obj);
    }

    private static boolean b() {
        if (a == null) {
            try {
                Class.forName("android.support.v4.app.Fragment");
                a = Boolean.valueOf(true);
            } catch (ClassNotFoundException e) {
                a = Boolean.valueOf(false);
            }
        }
        return a.booleanValue();
    }

    public static C0014b c(Object obj) {
        return (obj == null || c == null) ? null : (C0014b) c.remove(obj);
    }

    public static boolean d(Object obj) {
        return c != null && C0016d.a(c, obj);
    }

    public static boolean e(Object obj) {
        return b != null && C0016d.a(b, obj);
    }

    static boolean f(Object obj) {
        return (obj instanceof View) || (obj instanceof Activity) || ((VERSION.SDK_INT >= 11 && (obj instanceof Fragment)) || (C0016d.b() && (obj instanceof android.support.v4.app.Fragment)));
    }
}
