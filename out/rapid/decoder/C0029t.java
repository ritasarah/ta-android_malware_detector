package rapid.decoder;

import android.graphics.Bitmap;
import android.graphics.Bitmap.Config;
import android.graphics.Canvas;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.os.Build.VERSION;
import rapid.decoder.b.n;

public final class C0029t {
    public static int a(int i, int i2, Config config) {
        return (config.equals(Config.ARGB_8888) ? 4 : 2) * (i * i2);
    }

    public static int a(Bitmap bitmap) {
        return VERSION.SDK_INT >= 19 ? bitmap.getAllocationByteCount() : VERSION.SDK_INT >= 12 ? bitmap.getByteCount() : C0029t.a(bitmap.getWidth(), bitmap.getHeight(), bitmap.getConfig());
    }

    public static Bitmap a(Drawable drawable) {
        if (drawable instanceof BitmapDrawable) {
            return ((BitmapDrawable) drawable).getBitmap();
        }
        boolean z = drawable.getOpacity() == -1;
        Bitmap createBitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), z ? Config.RGB_565 : Config.ARGB_8888);
        drawable.setDither(z);
        drawable.setBounds(0, 0, createBitmap.getWidth(), createBitmap.getHeight());
        Canvas a = n.g.a(createBitmap);
        drawable.draw(a);
        n.g.c(a);
        return createBitmap;
    }
}
