package rapid.decoder;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.BitmapFactory.Options;
import android.graphics.BitmapRegionDecoder;
import java.io.IOException;
import java.io.InputStream;
import rapid.decoder.b.v;

class ab extends p {
    private ae r;

    public ab(InputStream inputStream) {
        if (!(inputStream instanceof ae) || ((ae) inputStream).c()) {
            this.r = new ae(inputStream);
        } else {
            this.r = (ae) inputStream;
        }
    }

    protected ab(ab abVar) {
        super(abVar);
        InputStream a = abVar.r.a();
        if (a instanceof H) {
            a = new H(((H) a).a());
        }
        this.r = new ae(a);
    }

    public void D() {
        super.D();
        try {
            this.r.close();
        } catch (IOException e) {
        }
    }

    public p H() {
        throw new UnsupportedOperationException();
    }

    protected Bitmap a(Options options) {
        Bitmap bitmap = null;
        try {
            bitmap = BitmapFactory.decodeStream(this.r, null, options);
        } catch (Throwable th) {
            this.r.a(false);
        }
        return bitmap;
    }

    protected InputStream a() {
        return this.r;
    }

    void a(v vVar) {
        this.r.a(vVar);
    }

    protected BitmapRegionDecoder b() {
        try {
            return BitmapRegionDecoder.newInstance(this.r, false);
        } catch (IOException e) {
            return null;
        }
    }

    public p c() {
        return new ab(this);
    }

    public /* synthetic */ e d() {
        return c();
    }

    public /* synthetic */ x e() {
        return c();
    }

    protected void e(boolean z) {
        if (!z) {
            this.r.b();
        }
        this.r.d();
    }

    protected void finalize() {
        try {
            this.r.close();
        } finally {
            super.finalize();
        }
    }

    public /* synthetic */ e w() {
        return H();
    }
}
